<!DOCTYPE html>
<html>
  <head>
    <title>Stuy Fusion 479</title>
    <link rel='stylesheet' type='text/css' href='style/base.css'>
    <link rel='stylesheet' type='text/css' href='style/index.css'>
    <link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css?family=Economica:400,700'>
    <link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css?family=Open+Sans'>
  </head>
  <body>
    <div id='header'>
      <a href='#'>
        <img id='logo' src='data/logo.jpg'>
      </a>
      <div id='navbar'>
        <a id='nav-home' class='nav-item'>
          Home
        </a>
        <a id='nav-about' class='nav-item'>
          About
        </a>
        <a id='nav-news' class='nav-item'>
          News
        </a>
        <a id='nav-resources' class='nav-item'>
          Resources
        </a>
      </div>
    </div>
    <div id='content'>
      <div id='content-gallery'>
        <div id='content-gallery-overlay'></div>
        <div id='content-gallery-text'>
          Stuy Fusion 479
        </div>
      </div>
      <div id='content-scroll'>
        <iframe id='edco-widget' frameborder='0' scrollable='no' src='https://stuyvesant-high.ed.co/stuyfusion-479/widget' width='300px' height='500px'></iframe>
        <div id='content-about' class='content-item'>
          <h1>About Us</h1>
We are FTC team Stuy Fusion 479, hailing from Stuyvesant High School in New York City. By taking advantage of our location in the business hub of the United States, we work to promote STEM in various ways. Our team members are not only proficient in STEM fields, but also bring with them strong humanities backgrounds. Through the FIRST Tech Challenge, STEM events throughout the city, and the media, we work not only to compete to the best of our ability, but also to educate the younger generations in engineering, programming, and marketing. We practice professional documentation methods to create physical records for future team members, allowing our successors to learn from our experiences, whether successes or failures.
          <br><br>
          <div id='about-button'>Meet Us</div>
          <div id='about-members'>
          <br>
            <!--Content auto-generated by jQuery AJAX-->
          </div>
        </div>
        <div class='content-divider'></div>
        <div id='content-news' class='content-item'>
          <h1>News</h1>
          <!--Content auto-generated by jQuery AJAX-->
        </div>
        <div class='content-divider'></div>
        <div id='content-resources' class='content-item'>
          <h1>Resources</h1>
          <!--Content auto-generated by jQuery AJAX-->
        </div>
        <div id='copyright'>
          Copyright 2015 &copy; Stuy Fusion 479
        </div>
      </div>
    </div>
    <div id='footer'>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
      <script type='text/javascript' src='scripts/index.js'></script>
      <script type='text/javascript' src='scripts/base.js'></script>
      <script type='text/javascript' src='scripts/gallery.js'></script>
      <script type='text/javascript' src='scripts/jQuery.scrollSpeed.js'></script>
      <script type='text/javascript' src='scripts/jquery.nicescroll.js'></script>
      <script type='text/javascript'>

        var members = ['edward_tsang', 'james_hua', 'ryan_siu', 'jasmine_zhang', 'jonathan_quang', 'kelly_huang', 'evan_low', 'jason_cheung'];

        var sponsors = {
          actobotics: 'https://www.servocity.com/html/actobotics.html'
        };

        $(document).ready(function() {

          $('html').niceScroll();
          $('#about-members').niceScroll();
          $('.about-bio').niceScroll();

          $('#logo, #nav-home').click(function() {
            $('html, body').animate({
              scrollTop: 0
            }, 500);
          });

          $('#nav-about').click(function() {
            $('html, body').animate({
              scrollTop: $('#content-about').offset().top
            }, 500);
          });

          $('#nav-news').click(function() {
            $('html, body').animate({
              scrollTop: $('#content-news').offset().top
            }, 500);
          });

          $('#nav-resources').click(function() {
            $('html, body').animate({
              scrollTop: $('#content-resources').offset().top
            }, 500);
          });

          $.each(members, function(index) {
            var html = '';
            if (index != 0)
              html += '<br><br>';
            html += '<div class=about-member><img class=about-img src=data/member_photos/' + members[index] + '.jpg><div class=about-bio></div></div>';
            $('#about-members').append(html);
            $('.about-bio').eq(index).load('data/member_bios/' + members[index] + '.txt');
          });

          $('#about-members').on('DOMMouseScroll mousewheel', function(ev) {
            var $this = $(this),
                scrollTop = this.scrollTop,
                scrollHeight = this.scrollHeight,
                height = $this.height(),
                delta = (ev.type == 'DOMMouseScroll' ?
                    ev.originalEvent.detail * -40 :
                    ev.originalEvent.wheelDelta)  ,
                up = delta > 0;

            var prevent = function() {
              ev.stopPropagation();
              ev.preventDefault();
              ev.returnValue = false;
              return false;
            }

            if (!up && -delta > scrollHeight - height - scrollTop) {
              // Scrolling down, but this will take us past the bottom.
              $this.scrollTop(scrollHeight);
              return prevent();
            } else if (up && delta > scrollTop) {
              // Scrolling up, but this will take us past the top.
              $this.scrollTop(0);
              return prevent();
            }
          });

          $.each(sponsors, function(index) {
            $('#content-resources').append('<a href=' + sponsors[index] + '><img class=resources-img src=data/sponsors/' + index + '.jpg></a>');
          });

        });

        $('#about-button').click(function() {
          $('#about-members').slideToggle(500, function() {
            $('#about-members').height($('.about-member').first().height());
            $('.about-bio').each(function(index) {
              $(this).outerHeight($('.about-img').eq(index).height());
            });
          });
        });

      </script>
    </div>
  </body>
</html>
